<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>IdMapper (DellRoad Stuff 3.0.6 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.dellroad.stuff.jibx, class: IdMapper">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/IdMapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.dellroad.stuff.jibx</a></div>
<h1 title="Class IdMapper" class="title">Class IdMapper</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html" title="class or interface in org.jibx.extras" class="external-link">org.jibx.extras.IdDefRefMapperBase</a>
<div class="inheritance">org.dellroad.stuff.jibx.IdMapper</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://jibx.sourceforge.io/api/org/jibx/runtime/IAliasable.html" title="class or interface in org.jibx.runtime" class="external-link">IAliasable</a></code>, <code><a href="https://jibx.sourceforge.io/api/org/jibx/runtime/IMarshaller.html" title="class or interface in org.jibx.runtime" class="external-link">IMarshaller</a></code>, <code><a href="https://jibx.sourceforge.io/api/org/jibx/runtime/IUnmarshaller.html" title="class or interface in org.jibx.runtime" class="external-link">IUnmarshaller</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">IdMapper</span>
<span class="extends-implements">extends <a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html" title="class or interface in org.jibx.extras" class="external-link">IdDefRefMapperBase</a></span></div>
<div class="block">JiBX Marshaller/Unmarshaller that assigns unique ID's to each object and
 replaces duplicate appearances of the same object with an IDREF reference.

 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/prism.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/components/prism-java.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/components/prism-xml-doc.min.js"></script>
 <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism.min.css" rel="stylesheet"/>

 <p>
 This class allows for easy ID/IDREF handling for existing classes, with minimal
 modifications to those classes and no custom (un)marshaller subclasses.

 <h3>JiBX Mapping</h3>

 <p>
 Suppose you have a class <code>Person.java</code> with a single <code>name</code> property
 and you want to add ID/IDREF support to it.

 <p>
 First add the following two pseudo-bean property methods to the classes:

 <pre><code class="language-java">
  import org.dellroad.stuff.jibx.IdMapper;

  public class Person {

      private String name;

      public String getName() {
          return this.name;
      }
      public void setName(String name) {
          this.name = name;
      }

      <b>// JiBX methods
      private String getJiBXId() {
          return IdMapper.getId(this);
      }
      private void setJiBXId(String id) {
          // do nothing
      }</b>
  }
 </code></pre>
 Note: if you subclass <code>Person.java</code> from a different sub-package, you may need
 to change the access privileges of those methods from <code>private</code> to <code>protected</code>.

 <p>
 Next, define a concrete mapping for <code>Person.java</code> and add the <code>id</code> attribute:
 <pre><code class="language-xml">
  &lt;mapping name="Person" class="com.example.Person"&gt;
      <b>&lt;value name="id" style="attribute" ident="def"
        get-method="getJiBXId" set-method="setJiBXId"/&gt;</b>
      &lt;value name="name" field="name"/&gt;
  &lt;/mapping&gt;
 </code></pre>

 <p>
 Finally, use <a href="IdMapper.html" title="class in org.dellroad.stuff.jibx"><code>IdMapper</code></a> as the custom marshaller and unmarshaller wherever a <code>Person</code> appears, e.g.:
 <pre><code class="language-xml">
  &lt;mapping name="Company" class="com.example.Company"&gt;
      &lt;collection name="Employees" field="employees" create-type="java.util.ArrayList"&gt;
          &lt;structure name="Person" type="com.example.Person"
            <b>marshaller="org.dellroad.stuff.jibx.IdMapper"
            unmarshaller="org.dellroad.stuff.jibx.IdMapper"</b>/&gt;
      &lt;/collection&gt;
      &lt;structure name="EmployeeOfTheWeek"&gt;
          &lt;structure name="Person" field="employeeOfTheWeek"
            <b>marshaller="org.dellroad.stuff.jibx.IdMapper"
            unmarshaller="org.dellroad.stuff.jibx.IdMapper"</b>/&gt;
      &lt;/structure&gt;
  &lt;/mapping&gt;
 </code></pre>
 Note the <code>EmployeeOfTheWeek</code> "wrapper" element for the <code>employeeOfTheWeek</code> field; this is required
 in order to use an XML name for this field other than <code>Person</code> (see limitations below).

 <p>
 Now the first appearance of any <code>Person</code> will contain the full XML structure with an additional <code>id="..."</code>
 attribute, while all subsequent appearances will contain just a reference of the form <code>&lt;Person idref="..."/&gt;</code>.
 Conversely, when unmarshalled all <code>Person</code> XML elements that refer to the same original <code>Person</code> will
 re-use the same unmarshalled <code>Person</code> object.

 <p>
 So the resulting XML might look like:
 <pre><code class="language-xml">
  &lt;Company&gt;
      &lt;Employees&gt;
          &lt;Person id="N00001"&gt;
              &lt;name&gt;Aardvark, Annie&lt;/name&gt;
          &lt;/Person&gt;
          &lt;Person id="N00002"&gt;
              &lt;name&gt;Appleby, Arnold&lt;/name&gt;
          &lt;/Person&gt;
          ...
      &lt;/Employees&gt;
      &lt;EmployeeOfTheWeek&gt;
          &lt;Person idref="N00001"/&gt;
      &lt;/EmployeeOfTheWeek&gt;
  &lt;/Company&gt;
 </code></pre>

 <h3>Limitations</h3>

 <p>
 JiBX and this class impose some limitations:
 <ul>
 <li>JiBX marshalling must be performed within an invocation of <a href="../java/IdGenerator.html#run(java.lang.Runnable)"><code>IdGenerator.run()</code></a>
      so that an <a href="../java/IdGenerator.html" title="class in org.dellroad.stuff.java"><code>IdGenerator</code></a> is available to generate the unique IDs (when using Spring, consider using
      <a href="IdMappingMarshaller.html" title="class in org.dellroad.stuff.jibx"><code>IdMappingMarshaller</code></a>; otherwise, the <a href="JiBXUtil.html" title="class in org.dellroad.stuff.jibx"><code>JiBXUtil</code></a> methods all satisfy this requirement).</li>
 <li>Classes that use ID/IDREF must have concrete JiBX mappings.</li>
 <li>All occurences of the class must use the XML element name of the concrete mapping, so the use of
      a "wrapper" element is required when a different element name is desired.</li>
 </ul>

 <h3>A Simpler Approach</h3>

 The above approach is useful when you don't want to keep track of which instance of an object will appear first
 in the XML encoding: the first one will always fully define the object, while subsequent ones will just reference it.

 <p>
 If this flexibility is not needed, i.e., if you can identify where in your mapping the first occurrence of an object
 will appear, then the following simpler approach works without the above approach's limitations (other than requiring
 that marshalling be peformed within an invocation of <a href="../java/IdGenerator.html#run(java.lang.Runnable)"><code>IdGenerator.run()</code></a>):

 <p>
 First, replace the <code>// do nothing</code> in the example above with call to <a href="#setId(java.lang.Object,java.lang.String)"><code>IdMapper.setId()</code></a>,
 and add a custom deserializer delegating to <a href="ParseUtil.html#deserializeReference(java.lang.String,java.lang.Class)"><code>ParseUtil.deserializeReference()</code></a> to
 <pre><code class="language-java">
      private void setJiBXId(String id) {
          IdMapper.setId(this, id);
      }

      public static Employee deserializeEmployeeReference(String string) throws JiBXParseException {
          return ParseUtil.deserializeReference(string, Employee.class);
      }
 </code></pre>

 <p>
 Then, map the first occurrence of an object exactly as in the concrete mapping above, exposing the <code>JiBXId</code> property.
 In all subsequent occurrences of the object, expose the reference to the object as a simple property using the custom
 serializer/deserializer pair <a href="ParseUtil.html#serializeReference(java.lang.Object)"><code>ParseUtil.serializeReference()</code></a> and
 <code>Employee.deserializeEmployeeReference()</code>.

 <p>
 For example, the following binding would yeild the same XML encoding as before:
 <pre><code class="language-xml">
  &lt;mapping abstract="true" type-name="person" class="com.example.Person"&gt;
      <b>&lt;value name="id" style="attribute" get-method="getJiBXId" set-method="setJiBXId"/&gt;</b>
      &lt;value name="name" field="name"/&gt;
  &lt;/mapping&gt;

  &lt;mapping name="Company" class="com.example.Company"&gt;
      &lt;collection name="Employees" field="employees" create-type="java.util.ArrayList"&gt;
          &lt;structure name="Person" map-as="person"/&gt;    &lt;!-- first occurences of all these objects --&gt;
      &lt;/collection&gt;
      &lt;structure name="EmployeeOfTheWeek"&gt;
          &lt;structure name="Person"&gt;
              <b>&lt;value name="idref" style="attribute" field="employeeOfTheWeek"
                serializer="org.dellroad.stuff.jibx.ParseUtil.serializeReference"
                deserializer="com.example.Employee.deserializeEmployeeReference"</b>/&gt;
          &lt;/structure&gt;
      &lt;/structure&gt;
  &lt;/mapping&gt;
 </code></pre>

 <p>
 If you want the reference to be optionally <code>null</code>, then you'll also need to add a <code>test-method</code>:
 <pre><code class="language-java">
      <b>private boolean hasEmployeeOfTheWeek() {
          return this.getEmployeeOfTheWeek() != null;
      }</b>
 </code></pre>
 <pre><code class="language-xml">
      &lt;structure name="EmployeeOfTheWeek" <b>usage="optional" test-method="hasEmployeeOfTheWeek"</b>&gt;
          &lt;structure name="Person"&gt;
              &lt;value name="idref" style="attribute" field="employeeOfTheWeek"
                serializer="org.dellroad.stuff.jibx.ParseUtil.serializeReference"
                deserializer="com.example.Employee.deserializeEmployeeReference"/&gt;
          &lt;/structure&gt;
      &lt;/structure&gt;
 </code></pre>
 This approach causes the whole <code>&lt;EmployeeOfTheWeek&gt;</code> element to disappear when there is no
 such employee. Alternately, you can avoid the need for the <code>test-method</code> if you want to allow
 just the attribute to disappear, or you could even change from <code>style="attribute"</code> to <code>style="element"</code>;
 in both cases you would be making the reference itself optional instead of the containing element.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="IdMappingMarshaller.html" title="class in org.dellroad.stuff.jibx"><code>IdMappingMarshaller</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String,int,java.lang.String,java.lang.String)" class="member-name-link">IdMapper</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;uri,
 int&nbsp;index,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;className)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#formatId(long)" class="member-name-link">formatId</a><wbr>(long&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Format the unique ID.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAttributeName()" class="member-name-link">getAttributeName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the ID reference attribute name.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getId(java.lang.Object)" class="member-name-link">getId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Get the unique ID value for the given object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getIdValue(java.lang.Object)" class="member-name-link">getIdValue</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the unique ID for the given object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#marshal(java.lang.Object,org.jibx.runtime.IMarshallingContext)" class="member-name-link">marshal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj,
 <a href="https://jibx.sourceforge.io/api/org/jibx/runtime/IMarshallingContext.html" title="class or interface in org.jibx.runtime" class="external-link">IMarshallingContext</a>&nbsp;ictx)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Overrides superclass to use object equality instead of <code>Object.equals()</code> for sanity checking.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#parseId(java.lang.String)" class="member-name-link">parseId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idref)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Parse the unique ID value assigned to the given object by <a href="#getId(java.lang.Object)"><code>getId()</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setId(java.lang.Object,java.lang.String)" class="member-name-link">setId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idref)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Set the unique ID value for the given object.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.jibx.extras.IdDefRefMapperBase">Methods inherited from class&nbsp;org.jibx.extras.<a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html" title="class or interface in org.jibx.extras" class="external-link">IdDefRefMapperBase</a></h3>
<code><a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html#isExtension-java.lang.String-" title="class or interface in org.jibx.extras" class="external-link">isExtension</a>, <a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html#isPresent-org.jibx.runtime.IUnmarshallingContext-" title="class or interface in org.jibx.extras" class="external-link">isPresent</a>, <a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html#unmarshal-java.lang.Object-org.jibx.runtime.IUnmarshallingContext-" title="class or interface in org.jibx.extras" class="external-link">unmarshal</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,int,java.lang.String,java.lang.String)">
<h3>IdMapper</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">IdMapper</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;uri,
 int&nbsp;index,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;className)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getId(java.lang.Object)">
<h3>getId</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getId</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj)</span></div>
<div class="block">Get the unique ID value for the given object.

 <p>
 The implementation in <a href="IdMapper.html" title="class in org.dellroad.stuff.jibx"><code>IdMapper</code></a> formats an ID of the form <code>N012345</code>
 using the <a href="../java/IdGenerator.html" title="class in org.dellroad.stuff.java"><code>IdGenerator</code></a> acquired from <a href="../java/IdGenerator.html#get()"><code>IdGenerator.get()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>obj</code> - any object</dd>
<dt>Returns:</dt>
<dd>unique ID for the object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setId(java.lang.Object,java.lang.String)">
<h3>setId</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setId</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idref)</span></div>
<div class="block">Set the unique ID value for the given object.

 <p>
 The implementation in <a href="IdMapper.html" title="class in org.dellroad.stuff.jibx"><code>IdMapper</code></a> expects an ID of the form <code>N012345</code>,
 then associates the parsed <code>long</code> value with the given object
 using the <a href="../java/IdGenerator.html" title="class in org.dellroad.stuff.java"><code>IdGenerator</code></a> acquired from <a href="../java/IdGenerator.html#get()"><code>IdGenerator.get()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>obj</code> - object to register</dd>
<dd><code>idref</code> - string ID assigned to the object</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>idref</code> is not of the form <code>N012345</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>idref</code> is already associated with a different object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="formatId(long)">
<h3>formatId</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">formatId</span><wbr><span class="parameters">(long&nbsp;id)</span></div>
<div class="block">Format the unique ID.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - ID value</dd>
<dt>Returns:</dt>
<dd>formatted idref</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="parseId(java.lang.String)">
<h3>parseId</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">parseId</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idref)</span></div>
<div class="block">Parse the unique ID value assigned to the given object by <a href="#getId(java.lang.Object)"><code>getId()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idref</code> - ID value assigned to the object</dd>
<dt>Returns:</dt>
<dd>parse ID number</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>idref</code> is not of the form <code>N012345</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIdValue(java.lang.Object)">
<h3>getIdValue</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getIdValue</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj)</span></div>
<div class="block">Get the unique ID for the given object. Delegates to <a href="#getId(java.lang.Object)"><code>getId()</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html#getIdValue-java.lang.Object-" title="class or interface in org.jibx.extras" class="external-link">getIdValue</a></code>&nbsp;in class&nbsp;<code><a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html" title="class or interface in org.jibx.extras" class="external-link">IdDefRefMapperBase</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAttributeName()">
<h3>getAttributeName</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getAttributeName</span>()</div>
<div class="block">Get the ID reference attribute name. Default is <code>"idref"</code>.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html#getAttributeName--" title="class or interface in org.jibx.extras" class="external-link">getAttributeName</a></code>&nbsp;in class&nbsp;<code><a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html" title="class or interface in org.jibx.extras" class="external-link">IdDefRefMapperBase</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="marshal(java.lang.Object,org.jibx.runtime.IMarshallingContext)">
<h3>marshal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">marshal</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;obj,
 <a href="https://jibx.sourceforge.io/api/org/jibx/runtime/IMarshallingContext.html" title="class or interface in org.jibx.runtime" class="external-link">IMarshallingContext</a>&nbsp;ictx)</span>
             throws <span class="exceptions"><a href="https://jibx.sourceforge.io/api/org/jibx/runtime/JiBXException.html" title="class or interface in org.jibx.runtime" class="external-link">JiBXException</a></span></div>
<div class="block">Overrides superclass to use object equality instead of <code>Object.equals()</code> for sanity checking.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://jibx.sourceforge.io/api/org/jibx/runtime/IMarshaller.html#marshal-java.lang.Object-org.jibx.runtime.IMarshallingContext-" title="class or interface in org.jibx.runtime" class="external-link">marshal</a></code>&nbsp;in interface&nbsp;<code><a href="https://jibx.sourceforge.io/api/org/jibx/runtime/IMarshaller.html" title="class or interface in org.jibx.runtime" class="external-link">IMarshaller</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html#marshal-java.lang.Object-org.jibx.runtime.IMarshallingContext-" title="class or interface in org.jibx.extras" class="external-link">marshal</a></code>&nbsp;in class&nbsp;<code><a href="https://jibx.sourceforge.io/api/org/jibx/extras/IdDefRefMapperBase.html" title="class or interface in org.jibx.extras" class="external-link">IdDefRefMapperBase</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://jibx.sourceforge.io/api/org/jibx/runtime/JiBXException.html" title="class or interface in org.jibx.runtime" class="external-link">JiBXException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>

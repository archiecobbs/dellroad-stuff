<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>AsyncTaskManager (DellRoad Stuff 3.0.3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.dellroad.stuff.vaadin24.util, class: AsyncTaskManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AsyncTaskManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.dellroad.stuff.vaadin24.util</a></div>
<h1 title="Class AsyncTaskManager" class="title">Class AsyncTaskManager&lt;R&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.dellroad.stuff.vaadin24.util.AsyncTaskManager&lt;R&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>R</code> - asynchronous task result type</dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">AsyncTaskManager&lt;R&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Allows applications to safely manage asynchronous tasks that execute in the background (without holding
 the <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> lock) entirely within the context of a locked <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a>.

 <p>
 Instances of this class manage some background activity or task that is initiated from within a <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a>.
 The task runs asynchronously in the background without holding the <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> lock. Once completed, the
 result is reported back to the locked <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> and the configured
 <a href="#setResultConsumer(java.util.function.BiConsumer)">result consumer</a>, if any.

 <p>
 Only one such task is allowed to be executing at any given time: if a second task is started while an existing task is
 still in progress, the first task is automatically canceled. Tasks are initiated via <a href="#startTask(org.dellroad.stuff.vaadin24.util.AsyncTask)"><code>startTask()</code></a>
 and may be canceled at any time via <a href="#cancelTask()"><code>cancelTask()</code></a>.

 <p>
 Results returned from successful task executions are delivered to the configured
 <a href="#setResultConsumer(java.util.function.BiConsumer)">result consumer</a>, if any.

 <p><b>Safety Guarantees</b>

 <p>
 This class handles all required synchronization and locking. It guarantees that at most one background task
 can be executing at a time, that all operations are atomic, that listener notifications are delivered in proper order,
 and that no race conditions can occur. For example, if a background task tries to report back at the same time a Vaadin
 thread invokes <a href="#cancelTask()"><code>cancelTask()</code></a>, then the task will always appear to have either completed successfully or been canceled.

 <p>
 Instances bind to the current <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> at construction time and may only be used with that session.
 If any method is invoked with the wrong <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> locking state, an immediate exception is thrown.
 Therefore, thread safety is not only provided but enforced.

 <p><b>Event Notifications</b>

 <p>
 Instances support event notification via <a href="#addAsyncTaskStatusChangeListener(org.dellroad.stuff.vaadin24.util.AsyncTaskStatusChangeListener)"><code>addAsyncTaskStatusChangeListener()</code></a>.
 All notifications are delivered within the context of the locked <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a>.

 <p>
 On task start, a <a href="AsyncTaskStatusChangeEvent.html#STARTED"><code>STARTED</code></a> notification is generated. When the task finishes,
 the outcome - one of: <a href="AsyncTaskStatusChangeEvent.html#COMPLETED"><code>COMPLETED</code></a>,
 <a href="AsyncTaskStatusChangeEvent.html#CANCELED"><code>CANCELED</code></a>, or <a href="AsyncTaskStatusChangeEvent.html#FAILED"><code>FAILED</code></a> - is reported.

 <p>
 Proper ordering of event notifications is guaranteed:
 <ul>
  <li>Exactly one <a href="AsyncTaskStatusChangeEvent.html#STARTED"><code>STARTED</code></a> notification and exactly one
      <a href="AsyncTaskStatusChangeEvent.html#COMPLETED"><code>COMPLETED</code></a>, <a href="AsyncTaskStatusChangeEvent.html#CANCELED"><code>CANCELED</code></a>,
      or <a href="AsyncTaskStatusChangeEvent.html#FAILED"><code>FAILED</code></a> notification will be delivered
      for each task initiated by <a href="#startTask(org.dellroad.stuff.vaadin24.util.AsyncTask)"><code>startTask()</code></a>.
  <li><a href="AsyncTaskStatusChangeEvent.html#STARTED"><code>STARTED</code></a> notifications are always delivered before the corresponding
      <a href="AsyncTaskStatusChangeEvent.html#COMPLETED"><code>COMPLETED</code></a>, <a href="AsyncTaskStatusChangeEvent.html#CANCELED"><code>CANCELED</code></a>,
      or <a href="AsyncTaskStatusChangeEvent.html#FAILED"><code>FAILED</code></a> notification for the same task.
  <li>The <a href="AsyncTaskStatusChangeEvent.html#COMPLETED"><code>COMPLETED</code></a>, <a href="AsyncTaskStatusChangeEvent.html#CANCELED"><code>CANCELED</code></a>, or
      <a href="AsyncTaskStatusChangeEvent.html#FAILED"><code>FAILED</code></a> notification for a task is always delivered before the
      <a href="AsyncTaskStatusChangeEvent.html#STARTED"><code>STARTED</code></a> notification for any subsequent task.
  <li>Tasks are executed, and corresponding notifications are delivered, in the same order that they are started.
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link">VaadinSession</a></code></div>
<div class="col-second even-row-color"><code><a href="#session" class="member-name-link">session</a></code></div>
<div class="col-last even-row-color">
<div class="block">The <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> with which this instance is associated.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">AsyncTaskManager</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Default constructor.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.util.function.Function)" class="member-name-link">AsyncTaskManager</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;? super <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>,<wbr>? extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link">Future</a>&lt;?&gt;&gt;&nbsp;executor)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/shared/Registration.html" title="class or interface in com.vaadin.flow.shared" class="external-link">Registration</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addAsyncTaskStatusChangeListener(org.dellroad.stuff.vaadin24.util.AsyncTaskStatusChangeListener)" class="member-name-link">addAsyncTaskStatusChangeListener</a><wbr>(<a href="AsyncTaskStatusChangeListener.html" title="interface in org.dellroad.stuff.vaadin24.util">AsyncTaskStatusChangeListener</a>&lt;<a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a <a href="AsyncTaskStatusChangeListener.html" title="interface in org.dellroad.stuff.vaadin24.util"><code>AsyncTaskStatusChangeListener</code></a> to this instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancelTask()" class="member-name-link">cancelTask</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cancels the current outstanding asynchronous task, if any, and returns its unique ID.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentTaskId()" class="member-name-link">getCurrentTaskId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the ID of the currently outstanding asynchronous task, if any.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link">VaadinSession</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVaadinSession()" class="member-name-link">getVaadinSession</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> to which this instance is associated.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleTaskException(long,java.lang.Throwable)" class="member-name-link">handleTaskException</a><wbr>(long&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;t)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invoked when an exception other than <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link"><code>InterruptedException</code></a> is thrown by the <a href="AsyncTask.html" title="interface in org.dellroad.stuff.vaadin24.util"><code>AsyncTask</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleTaskResult(long,R)" class="member-name-link">handleTaskResult</a><wbr>(long&nbsp;id,
 <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&nbsp;result)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Process the result from a successfully completed asynchronous task.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#invokeTask(long,org.dellroad.stuff.vaadin24.util.AsyncTask)" class="member-name-link">invokeTask</a><wbr>(long&nbsp;id,
 <a href="AsyncTask.html" title="interface in org.dellroad.stuff.vaadin24.util">AsyncTask</a>&lt;? extends <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;task)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform the asynchronous task.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isBusy()" class="member-name-link">isBusy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether there is an outstanding asynchronous task in progress.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#nextTaskId()" class="member-name-link">nextTaskId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the next unique task ID.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#notifyListeners(org.dellroad.stuff.vaadin24.util.AsyncTaskStatusChangeEvent)" class="member-name-link">notifyListeners</a><wbr>(<a href="AsyncTaskStatusChangeEvent.html" title="class in org.dellroad.stuff.vaadin24.util">AsyncTaskStatusChangeEvent</a>&lt;<a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;event)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Notify listeners.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reportTask(long,R,java.lang.Throwable)" class="member-name-link">reportTask</a><wbr>(long&nbsp;id,
 <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&nbsp;result,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;exception)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Report the outcome of an asynchronous task (whether successful or otherwise) back to the <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAsyncExecutor(java.util.function.Function)" class="member-name-link">setAsyncExecutor</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;? super <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>,<wbr>? extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link">Future</a>&lt;?&gt;&gt;&nbsp;executor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure the executor used for async tasks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setResultConsumer(java.util.function.BiConsumer)" class="member-name-link">setResultConsumer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html" title="class or interface in java.util.function" class="external-link">BiConsumer</a>&lt;? super <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr>? super <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;resultConsumer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure where successful results are delivered.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startTask(org.dellroad.stuff.vaadin24.util.AsyncTask)" class="member-name-link">startTask</a><wbr>(<a href="AsyncTask.html" title="interface in org.dellroad.stuff.vaadin24.util">AsyncTask</a>&lt;? extends <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;task)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Trigger execution of a new asynchronous task.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="session">
<h3>session</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link">VaadinSession</a></span>&nbsp;<span class="element-name">session</span></div>
<div class="block">The <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> with which this instance is associated.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>AsyncTaskManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AsyncTaskManager</span>()</div>
<div class="block">Default constructor.

 <p>
 Caller must configure an async executor via <a href="#setAsyncExecutor(java.util.function.Function)"><code>setAsyncExecutor()</code></a>.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if there is no <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> associated with the current thread</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.util.function.Function)">
<h3>AsyncTaskManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AsyncTaskManager</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;? super <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>,<wbr>? extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link">Future</a>&lt;?&gt;&gt;&nbsp;executor)</span></div>
<div class="block">Constructor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>executor</code> - the executor used to execute async tasks, or null for none</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if there is no <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> associated with the current thread</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getVaadinSession()">
<h3>getVaadinSession</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link">VaadinSession</a></span>&nbsp;<span class="element-name">getVaadinSession</span>()</div>
<div class="block">Get the <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> to which this instance is associated.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>this instance's <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a>, never null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAsyncExecutor(java.util.function.Function)">
<h3>setAsyncExecutor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAsyncExecutor</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;? super <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>,<wbr>? extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link">Future</a>&lt;?&gt;&gt;&nbsp;executor)</span></div>
<div class="block">Configure the executor used for async tasks.

 <p>
 The executor must execute tasks with <a href="#session">this instance's VaadinSession</a> unlocked.

 <p>
 Note: when an in-progress task is canceled via <a href="#cancelTask()"><code>cancelTask()</code></a>, then <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#cancel(boolean)" title="class or interface in java.util.concurrent" class="external-link"><code>Future.cancel()</code></a>
 will be invoked on the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> returned by the executor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>executor</code> - the thing that launches background tasks, or null for none</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setResultConsumer(java.util.function.BiConsumer)">
<h3>setResultConsumer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setResultConsumer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html" title="class or interface in java.util.function" class="external-link">BiConsumer</a>&lt;? super <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr>? super <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;resultConsumer)</span></div>
<div class="block">Configure where successful results are delivered.

 <p>
 The given consumer will always be invoked with <a href="#session">this instance's VaadinSession</a> locked.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>resultConsumer</code> - recipient for successful task results, taking task ID and result, or null to discard task results</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startTask(org.dellroad.stuff.vaadin24.util.AsyncTask)">
<h3>startTask</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">startTask</span><wbr><span class="parameters">(<a href="AsyncTask.html" title="interface in org.dellroad.stuff.vaadin24.util">AsyncTask</a>&lt;? extends <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;task)</span></div>
<div class="block">Trigger execution of a new asynchronous task.

 <p>
 If there is already an asynchronous task in progress, this method will <a href="#cancelTask()">cancel</a> it first.
 You can safely check this ahead of time via <a href="#isBusy()"><code>isBusy()</code></a>; this is race-free as long as the session lock is held
 across both method invocations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>task</code> - performs the desired task and returns some result</dd>
<dt>Returns:</dt>
<dd>unique ID for this task execution</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if <a href="#session">this instance's VaadinSession</a> is not locked by the current thread</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if there is no executor configured</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>task</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isBusy()">
<h3>isBusy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isBusy</span>()</div>
<div class="block">Determine whether there is an outstanding asynchronous task in progress.

 <p>
 Equivalent to: <code>getCurrentTaskId() != 0</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if an asynchronous task is currently executing, otherwise false</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the current thread is not associated with <a href="#session">this instance's session</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentTaskId()">
<h3>getCurrentTaskId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCurrentTaskId</span>()</div>
<div class="block">Get the ID of the currently outstanding asynchronous task, if any.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the unique ID of the current asynchronous task, if any, otherwise zero</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the current thread is not associated with <a href="#session">this instance's session</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelTask()">
<h3>cancelTask</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">cancelTask</span>()</div>
<div class="block">Cancels the current outstanding asynchronous task, if any, and returns its unique ID.

 <p>
 Any currently executing asynchronous task canceled and <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#cancel(boolean)" title="class or interface in java.util.concurrent" class="external-link"><code>Future.cancel()</code></a>
 is invoked on it's <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a>, which may result in the background thread being
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>.

 <p>
 This method guarantees that the corresponding task, if any, will have a
 <a href="AsyncTaskStatusChangeEvent.html#CANCELED"><code>CANCELED</code></a> outcome.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the unique ID of the canceled task, if any, or zero if there is no task outstanding</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the current thread is not associated with <a href="#session">this instance's session</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addAsyncTaskStatusChangeListener(org.dellroad.stuff.vaadin24.util.AsyncTaskStatusChangeListener)">
<h3>addAsyncTaskStatusChangeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/shared/Registration.html" title="class or interface in com.vaadin.flow.shared" class="external-link">Registration</a></span>&nbsp;<span class="element-name">addAsyncTaskStatusChangeListener</span><wbr><span class="parameters">(<a href="AsyncTaskStatusChangeListener.html" title="interface in org.dellroad.stuff.vaadin24.util">AsyncTaskStatusChangeListener</a>&lt;<a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;listener)</span></div>
<div class="block">Add a <a href="AsyncTaskStatusChangeListener.html" title="interface in org.dellroad.stuff.vaadin24.util"><code>AsyncTaskStatusChangeListener</code></a> to this instance.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - listener for notifications</dd>
<dt>Returns:</dt>
<dd>listener registration</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>listener</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the current thread is not associated with <a href="#session">this instance's session</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nextTaskId()">
<h3>nextTaskId</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">nextTaskId</span>()</div>
<div class="block">Get the next unique task ID.

 <p>
 Each invocation of this method returns a new value.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>unique task ID, never zero</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invokeTask(long,org.dellroad.stuff.vaadin24.util.AsyncTask)">
<h3>invokeTask</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">invokeTask</span><wbr><span class="parameters">(long&nbsp;id,
 <a href="AsyncTask.html" title="interface in org.dellroad.stuff.vaadin24.util">AsyncTask</a>&lt;? extends <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;task)</span></div>
<div class="block">Perform the asynchronous task.

 <p>
 This method is invoked in the background, with <a href="#session">this instance's session</a> <i>not</i> locked.

 <p>
 When finished (regardless of the outcome) this method invokes <a href="#reportTask(long,R,java.lang.Throwable)"><code>reportTask()</code></a>
 with <a href="#session">this instance's session</a> locked.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - task ID</dd>
<dd><code>task</code> - task to execute</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the current thread has <a href="#session">this instance's session</a> locked</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is zero</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>task</code> is null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reportTask(long,R,java.lang.Throwable)">
<h3 id="reportTask(long,java.lang.Object,java.lang.Throwable)">reportTask</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">reportTask</span><wbr><span class="parameters">(long&nbsp;id,
 <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&nbsp;result,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;exception)</span></div>
<div class="block">Report the outcome of an asynchronous task (whether successful or otherwise) back to the <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a>.

 <p>
 This is invoked (indirectly) by <a href="#invokeTask(long,org.dellroad.stuff.vaadin24.util.AsyncTask)"><code>invokeTask()</code></a> with <a href="#session">this instance's session</a> locked.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - task ID</dd>
<dd><code>result</code> - task result; must be null if there was an exception</dd>
<dd><code>exception</code> - thrown exception (<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link"><code>InterruptedException</code></a> if interrupted), or null if there was no exception</dd>
<dt>Returns:</dt>
<dd>true if <code>id</code> matched the current task ID, otherwise false</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the current thread is not associated with <a href="#session">this instance's session</a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>id</code> is zero</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>result</code> and <code>exception</code> are both not null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="notifyListeners(org.dellroad.stuff.vaadin24.util.AsyncTaskStatusChangeEvent)">
<h3>notifyListeners</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">notifyListeners</span><wbr><span class="parameters">(<a href="AsyncTaskStatusChangeEvent.html" title="class in org.dellroad.stuff.vaadin24.util">AsyncTaskStatusChangeEvent</a>&lt;<a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&gt;&nbsp;event)</span></div>
<div class="block">Notify listeners.

 <p>
 This is invoked with <a href="#session">this instance's session</a> locked.

 <p>
 The implementation in <a href="AsyncTaskManager.html" title="class in org.dellroad.stuff.vaadin24.util"><code>AsyncTaskManager</code></a> actually delivers the notifications later,
 in the manner of <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html#access-com.vaadin.flow.server.Command-" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession.access()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>event</code> - status change event</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the current thread is not associated with <a href="#session">this instance's session</a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>event</code> is zero</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleTaskResult(long,R)">
<h3 id="handleTaskResult(long,java.lang.Object)">handleTaskResult</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleTaskResult</span><wbr><span class="parameters">(long&nbsp;id,
 <a href="AsyncTaskManager.html" title="type parameter in AsyncTaskManager">R</a>&nbsp;result)</span></div>
<div class="block">Process the result from a successfully completed asynchronous task.

 <p>
 This is invoked with <a href="#session">this instance's session</a> locked.

 <p>
 The implementation in <a href="AsyncTaskManager.html" title="class in org.dellroad.stuff.vaadin24.util"><code>AsyncTaskManager</code></a> passes the result to the configured result consumer, if any.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - task ID</dd>
<dd><code>result</code> - task result</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>result</code> is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the current thread is not associated with <a href="#session">this instance's session</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleTaskException(long,java.lang.Throwable)">
<h3>handleTaskException</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleTaskException</span><wbr><span class="parameters">(long&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;t)</span></div>
<div class="block">Invoked when an exception other than <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link"><code>InterruptedException</code></a> is thrown by the <a href="AsyncTask.html" title="interface in org.dellroad.stuff.vaadin24.util"><code>AsyncTask</code></a>.

 <p>
 Note: this method runs in the background thread and the <a href="https://vaadin.com/api/platform/24.3.5/com/vaadin/flow/server/VaadinSession.html" title="class or interface in com.vaadin.flow.server" class="external-link"><code>VaadinSession</code></a> will not be locked.

 <p>
 The implementation in <a href="AsyncTaskManager.html" title="class in org.dellroad.stuff.vaadin24.util"><code>AsyncTaskManager</code></a> just logs an error.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - the unique ID of the task that failed</dd>
<dd><code>t</code> - the exception that was caught</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>PersistentObjectSchemaUpdater (DellRoad Stuff 2.0.3 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PersistentObjectSchemaUpdater (DellRoad Stuff 2.0.3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PersistentObjectSchemaUpdater.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectListener.html" title="interface in org.dellroad.stuff.pobj"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectTransactionManager.html" title="class in org.dellroad.stuff.pobj"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" target="_top">Frames</a></li>
<li><a href="PersistentObjectSchemaUpdater.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dellroad.stuff.pobj</div>
<h2 title="Class PersistentObjectSchemaUpdater" class="title">Class PersistentObjectSchemaUpdater&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">org.dellroad.stuff.schema.AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.dellroad.stuff.pobj.PersistentObjectSchemaUpdater&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - type of the root persistent object</dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;T&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/dellroad/stuff/pobj/SpringPersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj">SpringPersistentObjectSchemaUpdater</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">PersistentObjectSchemaUpdater&lt;T&gt;</span>
extends <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;
implements <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;T&gt;</pre>
<div class="block">A <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj"><code>PersistentObjectDelegate</code></a> that is also a <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><code>AbstractSchemaUpdater</code></a> that automatically
 applies needed updates to the persistent XML file.

 <p>
 To use this class, wrap your normal delegate in an instance of this class. This will augment
 the serialization and deserialization process to keep track of which updates have been applied to the XML structure,
 and automatically and transparently apply any needed updates during deserialization.

 <p>
 Updates are tracked by inserting an <code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#UPDATES_ELEMENT_NAME"><code>&lt;pobj:updates&gt;</code></a></code> element
 into the serialized XML document; this update list is transparently removed when the document is read back,
 and any missing updates are applied automatically.
 In this way the document and its set of applied updates always travel together. For example:

 <blockquote><pre>
  &lt;MyConfig&gt;
      <b>&lt;pobj:updates xmlns:pobj="http://dellroad-stuff.googlecode.com/ns/persistentObject"&gt;
          &lt;pobj:update&gt;some-update-name-1&lt;/pobj:update&gt;
          &lt;pobj:update&gt;some-update-name-2&lt;/pobj:update&gt;
      &lt;/pobj:updates&gt;</b>
      &lt;username&gt;admin&lt;/username&gt;
      &lt;password&gt;secret&lt;/password&gt;
  &lt;/MyConfig&gt;
 </pre></blockquote>

 <p>
 For Spring applications, <a href="../../../../org/dellroad/stuff/pobj/SpringPersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>SpringPersistentObjectSchemaUpdater</code></a> provides a convenient declarative way
 to define your schema updates via XSLT files.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#delegate">delegate</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#NAMESPACE_URI">NAMESPACE_URI</a></strong></code>
<div class="block">XML namespace URI used for nested update elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#UPDATE_ELEMENT_NAME">UPDATE_ELEMENT_NAME</a></strong></code>
<div class="block">XML element name for a single update.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#UPDATES_ELEMENT_NAME">UPDATES_ELEMENT_NAME</a></strong></code>
<div class="block">XML element name for the updates list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#XML_PREFIX">XML_PREFIX</a></strong></code>
<div class="block">Preferred XML namespace prefix for <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#NAMESPACE_URI"><code>NAMESPACE_URI</code></a> elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#XMLNS_ATTRIBUTE_NAME">XMLNS_ATTRIBUTE_NAME</a></strong></code>
<div class="block">XML namespace URI used for namespace declarations.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.dellroad.stuff.schema.AbstractSchemaUpdater">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.dellroad.stuff.schema.<a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a></h3>
<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#log">log</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#PersistentObjectSchemaUpdater(org.dellroad.stuff.pobj.PersistentObjectDelegate)">PersistentObjectSchemaUpdater</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&nbsp;delegate)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#commitTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">commitTransaction</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code>
<div class="block">Commit a previously opened transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#copy(T)">copy</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;original)</code>
<div class="block">Make a deep copy of the given object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#databaseNeedsInitialization(org.dellroad.stuff.pobj.PersistentFileTransaction)">databaseNeedsInitialization</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code>
<div class="block">Determine if the database needs initialization.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#deserialize(javax.xml.transform.Source)">deserialize</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/Source.html?is-external=true" title="class or interface in javax.xml.transform">Source</a>&nbsp;source)</code>
<div class="block">Deserialize object from XML.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#getAppliedUpdateNames(org.dellroad.stuff.pobj.PersistentFileTransaction)">getAppliedUpdateNames</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code>
<div class="block">Determine which updates have already been applied to the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#getDefaultValue()">getDefaultValue</a></strong>()</code>
<div class="block">Get the default value for the root object graph.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#handleWritebackException(org.dellroad.stuff.pobj.PersistentObject, java.lang.Throwable)">handleWritebackException</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentObject.html" title="class in org.dellroad.stuff.pobj">PersistentObject</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&nbsp;pobj,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">Handle an exception thrown during a delayed write-back attempt.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#initializeDatabase(org.dellroad.stuff.pobj.PersistentFileTransaction)">initializeDatabase</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code>
<div class="block">Initialize an uninitialized database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#isSameGraph(T, T)">isSameGraph</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;root1,
           <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;root2)</code>
<div class="block">Compare two object graphs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#openTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">openTransaction</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code>
<div class="block">Begin a transaction on the given database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#recordUpdateApplied(org.dellroad.stuff.pobj.PersistentFileTransaction, java.lang.String)">recordUpdateApplied</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Record an update as having been applied to the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#rollbackTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">rollbackTransaction</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code>
<div class="block">Roll back a previously opened transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#serialize(T, javax.xml.transform.Result)">serialize</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;obj,
         <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform">Result</a>&nbsp;result)</code>
<div class="block">Serialize object to XML.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#setTransformerFactory(javax.xml.transform.TransformerFactory)">setTransformerFactory</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform">TransformerFactory</a>&nbsp;transformerFactory)</code>
<div class="block">Configure the <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform"><code>TransformerFactory</code></a> to be used by this instance when reading the updates from the XML file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://vaadin.com/download/release/7.5/7.5.5/docs/api/javax/validation/ConstraintViolation.html?is-external=true" title="class or interface in javax.validation">ConstraintViolation</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#validate(T)">validate</a></strong>(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;obj)</code>
<div class="block">Validate the given instance.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.dellroad.stuff.schema.AbstractSchemaUpdater">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.dellroad.stuff.schema.<a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a></h3>
<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#apply(T, org.dellroad.stuff.schema.DatabaseAction)">apply</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#applyInTransaction(D, org.dellroad.stuff.schema.DatabaseAction)">applyInTransaction</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#generateMultiUpdateName(org.dellroad.stuff.schema.SchemaUpdate, int)">generateMultiUpdateName</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getAllUpdateNames()">getAllUpdateNames</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getOrderingTieBreaker()">getOrderingTieBreaker</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getUpdates()">getUpdates</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeAndUpdateDatabase(D)">initializeAndUpdateDatabase</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#isIgnoreUnrecognizedUpdates()">isIgnoreUnrecognizedUpdates</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#isValidUpdateName(java.lang.String)">isValidUpdateName</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#setIgnoreUnrecognizedUpdates(boolean)">setIgnoreUnrecognizedUpdates</a>, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#setUpdates(java.util.Collection)">setUpdates</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NAMESPACE_URI">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NAMESPACE_URI</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> NAMESPACE_URI</pre>
<div class="block">XML namespace URI used for nested update elements.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.dellroad.stuff.pobj.PersistentObjectSchemaUpdater.NAMESPACE_URI">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="XML_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XML_PREFIX</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> XML_PREFIX</pre>
<div class="block">Preferred XML namespace prefix for <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#NAMESPACE_URI"><code>NAMESPACE_URI</code></a> elements.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.dellroad.stuff.pobj.PersistentObjectSchemaUpdater.XML_PREFIX">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="UPDATES_ELEMENT_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UPDATES_ELEMENT_NAME</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a> UPDATES_ELEMENT_NAME</pre>
<div class="block">XML element name for the updates list.</div>
</li>
</ul>
<a name="UPDATE_ELEMENT_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UPDATE_ELEMENT_NAME</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a> UPDATE_ELEMENT_NAME</pre>
<div class="block">XML element name for a single update.</div>
</li>
</ul>
<a name="XMLNS_ATTRIBUTE_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XMLNS_ATTRIBUTE_NAME</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a> XMLNS_ATTRIBUTE_NAME</pre>
<div class="block">XML namespace URI used for namespace declarations.</div>
</li>
</ul>
<a name="delegate">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>delegate</h4>
<pre>protected final&nbsp;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt; delegate</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PersistentObjectSchemaUpdater(org.dellroad.stuff.pobj.PersistentObjectDelegate)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PersistentObjectSchemaUpdater</h4>
<pre>public&nbsp;PersistentObjectSchemaUpdater(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&nbsp;delegate)</pre>
<div class="block">Constructor.

 <p>
 Callers provide a <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj"><code>PersistentObjectDelegate</code></a> that will be used for all operations, with the exception
 that <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#serialize(T, javax.xml.transform.Result)">serialization</a> and <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#deserialize(javax.xml.transform.Source)">deserialization</a> will add/remove
 the upate list, and <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html#deserialize(javax.xml.transform.Source)">deserialization</a> will apply any needed updates as necessary.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>delegate</code> - delegate that will be wrapped by this instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>delegate</code> is null</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setTransformerFactory(javax.xml.transform.TransformerFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransformerFactory</h4>
<pre>public&nbsp;void&nbsp;setTransformerFactory(<a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform">TransformerFactory</a>&nbsp;transformerFactory)</pre>
<div class="block">Configure the <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform"><code>TransformerFactory</code></a> to be used by this instance when reading the updates from the XML file.
 Must support reading from a StAX <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/Source.html?is-external=true" title="class or interface in javax.xml.transform"><code>Source</code></a>.

 <p>
 The implementation in <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> returns null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>transformerFactory</code> - <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform"><code>TransformerFactory</code></a> to use or null for the platform default</dd></dl>
</li>
</ul>
<a name="copy(java.lang.Object)">
<!--   -->
</a><a name="copy(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copy</h4>
<pre>public&nbsp;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;copy(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;original)</pre>
<div class="block">Make a deep copy of the given object.

 <p>
 The implementation in <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html#copy(T)">copy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>original</code> - original object</dd>
<dt><span class="strong">Returns:</span></dt><dd>deep copy of the object graph rooted at <code>original</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>original</code> is null</dd>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectException.html" title="class in org.dellroad.stuff.pobj">PersistentObjectException</a></code> - if an error occurs</dd></dl>
</li>
</ul>
<a name="isSameGraph(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a name="isSameGraph(T, T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSameGraph</h4>
<pre>public&nbsp;boolean&nbsp;isSameGraph(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;root1,
                  <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;root2)</pre>
<div class="block">Compare two object graphs.

 <p>
 The implementation in <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html#isSameGraph(T, T)">isSameGraph</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>root1</code> - root of first object graph</dd><dd><code>root2</code> - root of second object graph</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if <code>root1</code> and <code>root2</code> represent equal object graphs</dd></dl>
</li>
</ul>
<a name="validate(java.lang.Object)">
<!--   -->
</a><a name="validate(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://vaadin.com/download/release/7.5/7.5.5/docs/api/javax/validation/ConstraintViolation.html?is-external=true" title="class or interface in javax.validation">ConstraintViolation</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&gt;&nbsp;validate(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;obj)</pre>
<div class="block">Validate the given instance.

 <p>
 The implementation in <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html#validate(T)">validate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>obj</code> - root object</dd>
<dt><span class="strong">Returns:</span></dt><dd>set of zero or more constraint violations</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>obj</code> is null</dd></dl>
</li>
</ul>
<a name="handleWritebackException(org.dellroad.stuff.pobj.PersistentObject, java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleWritebackException</h4>
<pre>public&nbsp;void&nbsp;handleWritebackException(<a href="../../../../org/dellroad/stuff/pobj/PersistentObject.html" title="class in org.dellroad.stuff.pobj">PersistentObject</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&nbsp;pobj,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">Handle an exception thrown during a delayed write-back attempt.

 <p>
 The implementation in <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html#handleWritebackException(org.dellroad.stuff.pobj.PersistentObject, java.lang.Throwable)">handleWritebackException</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pobj</code> - the instance that encountered the exception</dd><dd><code>t</code> - the exception thrown</dd></dl>
</li>
</ul>
<a name="getDefaultValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultValue</h4>
<pre>public&nbsp;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;getDefaultValue()</pre>
<div class="block">Get the default value for the root object graph.

 <p>
 The implementation in <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html#getDefaultValue()">getDefaultValue</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>root object initial value, or null if there is no default value</dd></dl>
</li>
</ul>
<a name="serialize(java.lang.Object,javax.xml.transform.Result)">
<!--   -->
</a><a name="serialize(T, javax.xml.transform.Result)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialize</h4>
<pre>public&nbsp;void&nbsp;serialize(<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;obj,
             <a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform">Result</a>&nbsp;result)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Serialize object to XML.

 <p>
 The implementation in <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor
 but also adds the update list as the first XML tag.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html#serialize(T, javax.xml.transform.Result)">serialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>obj</code> - object to serialize; must not be modified</dd><dd><code>result</code> - XML destination</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectException.html" title="class in org.dellroad.stuff.pobj">PersistentObjectException</a></code> - if an error occurs</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="deserialize(javax.xml.transform.Source)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deserialize</h4>
<pre>public&nbsp;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;deserialize(<a href="http://docs.oracle.com/javase/7/docs/api/javax/xml/transform/Source.html?is-external=true" title="class or interface in javax.xml.transform">Source</a>&nbsp;source)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Deserialize object from XML.

 <p>
 The implementation in <a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor
 but also removes the update list as the first XML tag and applies any needed updates.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html#deserialize(javax.xml.transform.Source)">deserialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - XML source</dd>
<dt><span class="strong">Returns:</span></dt><dd>deserialized object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectException.html" title="class in org.dellroad.stuff.pobj">PersistentObjectException</a></code> - if an error occurs</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs</dd></dl>
</li>
</ul>
<a name="databaseNeedsInitialization(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>databaseNeedsInitialization</h4>
<pre>protected&nbsp;boolean&nbsp;databaseNeedsInitialization(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#databaseNeedsInitialization(T)">AbstractSchemaUpdater</a></code></strong></div>
<div class="block">Determine if the database needs initialization.

 <p>
 If so, <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeDatabase(T)"><code>AbstractSchemaUpdater.initializeDatabase(T)</code></a> will eventually be invoked.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#databaseNeedsInitialization(T)">databaseNeedsInitialization</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transaction</code> - open transaction</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the database needs initialization</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an error occurs while accessing the database</dd></dl>
</li>
</ul>
<a name="initializeDatabase(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeDatabase</h4>
<pre>protected&nbsp;void&nbsp;initializeDatabase(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeDatabase(T)">AbstractSchemaUpdater</a></code></strong></div>
<div class="block">Initialize an uninitialized database. This should create and initialize the database schema and content,
 including whatever portion of that is used to track schema updates.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeDatabase(T)">initializeDatabase</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transaction</code> - open transaction</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an error occurs while accessing the database</dd></dl>
</li>
</ul>
<a name="openTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openTransaction</h4>
<pre>protected&nbsp;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;openTransaction(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#openTransaction(D)">AbstractSchemaUpdater</a></code></strong></div>
<div class="block">Begin a transaction on the given database.
 The transaction will always eventually either be
 <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#commitTransaction(T)">committed</a> or <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#rollbackTransaction(T)">rolled back</a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#openTransaction(D)">openTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transaction</code> - database</dd>
<dt><span class="strong">Returns:</span></dt><dd>transaction handle</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an error occurs while accessing the database</dd></dl>
</li>
</ul>
<a name="commitTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransaction</h4>
<pre>protected&nbsp;void&nbsp;commitTransaction(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#commitTransaction(T)">AbstractSchemaUpdater</a></code></strong></div>
<div class="block">Commit a previously opened transaction.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#commitTransaction(T)">commitTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transaction</code> - open transaction previously returned from <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#openTransaction(D)"><code>openTransaction()</code></a></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an error occurs while accessing the database</dd></dl>
</li>
</ul>
<a name="rollbackTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackTransaction</h4>
<pre>protected&nbsp;void&nbsp;rollbackTransaction(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#rollbackTransaction(T)">AbstractSchemaUpdater</a></code></strong></div>
<div class="block">Roll back a previously opened transaction.
 This method will also be invoked if <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#commitTransaction(T)"><code>commitTransaction()</code></a> throws an exception.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#rollbackTransaction(T)">rollbackTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transaction</code> - open transaction previously returned from <a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#openTransaction(D)"><code>openTransaction()</code></a></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an error occurs while accessing the database</dd></dl>
</li>
</ul>
<a name="getAppliedUpdateNames(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAppliedUpdateNames</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getAppliedUpdateNames(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getAppliedUpdateNames(T)">AbstractSchemaUpdater</a></code></strong></div>
<div class="block">Determine which updates have already been applied to the database.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getAppliedUpdateNames(T)">getAppliedUpdateNames</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transaction</code> - open transaction</dd>
<dt><span class="strong">Returns:</span></dt><dd>set of already-applied updates</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an error occurs while accessing the database</dd></dl>
</li>
</ul>
<a name="recordUpdateApplied(org.dellroad.stuff.pobj.PersistentFileTransaction, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>recordUpdateApplied</h4>
<pre>protected&nbsp;void&nbsp;recordUpdateApplied(<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#recordUpdateApplied(T, java.lang.String)">AbstractSchemaUpdater</a></code></strong></div>
<div class="block">Record an update as having been applied to the database.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#recordUpdateApplied(T, java.lang.String)">recordUpdateApplied</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,<a href="../../../../org/dellroad/stuff/pobj/PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transaction</code> - open transaction</dd><dd><code>name</code> - update name</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the update has already been recorded in the database</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an error occurs while accessing the database</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PersistentObjectSchemaUpdater.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectListener.html" title="interface in org.dellroad.stuff.pobj"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/dellroad/stuff/pobj/PersistentObjectTransactionManager.html" title="class in org.dellroad.stuff.pobj"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dellroad/stuff/pobj/PersistentObjectSchemaUpdater.html" target="_top">Frames</a></li>
<li><a href="PersistentObjectSchemaUpdater.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>

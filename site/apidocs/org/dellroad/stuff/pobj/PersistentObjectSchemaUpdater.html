<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>PersistentObjectSchemaUpdater (DellRoad Stuff 2.5.7 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PersistentObjectSchemaUpdater (DellRoad Stuff 2.5.7 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PersistentObjectSchemaUpdater.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.dellroad.stuff.pobj</a></div>
<h2 title="Class PersistentObjectSchemaUpdater" class="title">Class PersistentObjectSchemaUpdater&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">org.dellroad.stuff.schema.AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.dellroad.stuff.pobj.PersistentObjectSchemaUpdater&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of the root persistent object</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;T&gt;</code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="SpringPersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj">SpringPersistentObjectSchemaUpdater</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">PersistentObjectSchemaUpdater&lt;T&gt;</span>
extends <a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;
implements <a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;T&gt;</pre>
<div class="block">A <a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj"><code>PersistentObjectDelegate</code></a> that is also a <a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><code>AbstractSchemaUpdater</code></a> that automatically
 applies needed updates to the persistent XML file.

 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/prism.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/components/prism-xml-doc.min.js"></script>
 <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism.min.css" rel="stylesheet"/>

 <p>
 To use this class, wrap your normal delegate in an instance of this class. This will augment
 the serialization and deserialization process to keep track of which updates have been applied to the XML structure,
 and automatically and transparently apply any needed updates during deserialization.

 <p>
 Updates are tracked by inserting an <code><a href="#UPDATES_ELEMENT_NAME"><code>&lt;pobj:updates&gt;</code></a></code> element
 into the serialized XML document; this update list is transparently removed when the document is read back,
 and any missing updates are applied automatically.
 In this way the document and its set of applied updates always travel together. For example:

 <pre><code class="language-xml">
  &lt;MyConfig&gt;
      <b>&lt;pobj:updates xmlns:pobj="http://dellroad-stuff.googlecode.com/ns/persistentObject"&gt;
          &lt;pobj:update&gt;some-update-name-1&lt;/pobj:update&gt;
          &lt;pobj:update&gt;some-update-name-2&lt;/pobj:update&gt;
      &lt;/pobj:updates&gt;</b>
      &lt;username&gt;admin&lt;/username&gt;
      &lt;password&gt;secret&lt;/password&gt;
  &lt;/MyConfig&gt;
 </code></pre>

 <p>
 For Spring applications, <a href="SpringPersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>SpringPersistentObjectSchemaUpdater</code></a> provides a convenient declarative way
 to define your schema updates via XSLT files.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delegate">delegate</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#NAMESPACE_URI">NAMESPACE_URI</a></span></code></th>
<td class="colLast">
<div class="block">XML namespace URI used for nested update elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace" class="externalLink">QName</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#UPDATE_ELEMENT_NAME">UPDATE_ELEMENT_NAME</a></span></code></th>
<td class="colLast">
<div class="block">XML element name for a single update.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace" class="externalLink">QName</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#UPDATES_ELEMENT_NAME">UPDATES_ELEMENT_NAME</a></span></code></th>
<td class="colLast">
<div class="block">XML element name for the updates list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#XML_PREFIX">XML_PREFIX</a></span></code></th>
<td class="colLast">
<div class="block">Preferred XML namespace prefix for <a href="#NAMESPACE_URI"><code>NAMESPACE_URI</code></a> elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace" class="externalLink">QName</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#XMLNS_ATTRIBUTE_NAME">XMLNS_ATTRIBUTE_NAME</a></span></code></th>
<td class="colLast">
<div class="block">XML namespace URI used for namespace declarations.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.dellroad.stuff.schema.AbstractSchemaUpdater">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.dellroad.stuff.schema.<a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a></h3>
<code><a href="../schema/AbstractSchemaUpdater.html#log">log</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.dellroad.stuff.pobj.PersistentObjectDelegate)">PersistentObjectSchemaUpdater</a></span>&#8203;(<a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&nbsp;delegate)</code></th>
<td class="colLast">
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commitTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">commitTransaction</a></span>&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Commit a previously opened transaction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#copy(T)">copy</a></span>&#8203;(<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;original)</code></th>
<td class="colLast">
<div class="block">Make a deep copy of the given object.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#databaseNeedsInitialization(org.dellroad.stuff.pobj.PersistentFileTransaction)">databaseNeedsInitialization</a></span>&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Determine if the database needs initialization.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deserialize(javax.xml.transform.Source)">deserialize</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/Source.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink">Source</a>&nbsp;source)</code></th>
<td class="colLast">
<div class="block">Deserialize object from XML.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAppliedUpdateNames(org.dellroad.stuff.pobj.PersistentFileTransaction)">getAppliedUpdateNames</a></span>&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Determine which updates have already been applied to the database.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDefaultValue()">getDefaultValue</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the default value for the root object graph.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleWritebackException(org.dellroad.stuff.pobj.PersistentObject,java.lang.Throwable)">handleWritebackException</a></span>&#8203;(<a href="PersistentObject.html" title="class in org.dellroad.stuff.pobj">PersistentObject</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&nbsp;pobj,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;t)</code></th>
<td class="colLast">
<div class="block">Handle an exception thrown during a delayed write-back attempt.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initializeDatabase(org.dellroad.stuff.pobj.PersistentFileTransaction)">initializeDatabase</a></span>&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Initialize an uninitialized database.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isSameGraph(T,T)">isSameGraph</a></span>&#8203;(<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;root1,
           <a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;root2)</code></th>
<td class="colLast">
<div class="block">Compare two object graphs.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected <a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#openTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">openTransaction</a></span>&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Begin a transaction on the given database.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recordUpdateApplied(org.dellroad.stuff.pobj.PersistentFileTransaction,java.lang.String)">recordUpdateApplied</a></span>&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Record an update as having been applied to the database.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollbackTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">rollbackTransaction</a></span>&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)</code></th>
<td class="colLast">
<div class="block">Roll back a previously opened transaction.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#serialize(T,javax.xml.transform.Result)">serialize</a></span>&#8203;(<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;obj,
         <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink">Result</a>&nbsp;result)</code></th>
<td class="colLast">
<div class="block">Serialize object to XML.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTransformerFactory(javax.xml.transform.TransformerFactory)">setTransformerFactory</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink">TransformerFactory</a>&nbsp;transformerFactory)</code></th>
<td class="colLast">
<div class="block">Configure the <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink"><code>TransformerFactory</code></a> to be used by this instance when reading the updates from the XML file.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;javax.validation.ConstraintViolation&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#validate(T)">validate</a></span>&#8203;(<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;obj)</code></th>
<td class="colLast">
<div class="block">Validate the given instance.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.dellroad.stuff.schema.AbstractSchemaUpdater">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.dellroad.stuff.schema.<a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a></h3>
<code><a href="../schema/AbstractSchemaUpdater.html#apply(T,org.dellroad.stuff.schema.DatabaseAction)">apply</a>, <a href="../schema/AbstractSchemaUpdater.html#applyInTransaction(D,org.dellroad.stuff.schema.DatabaseAction)">applyInTransaction</a>, <a href="../schema/AbstractSchemaUpdater.html#generateMultiUpdateName(org.dellroad.stuff.schema.SchemaUpdate,int)">generateMultiUpdateName</a>, <a href="../schema/AbstractSchemaUpdater.html#getAllUpdateNames()">getAllUpdateNames</a>, <a href="../schema/AbstractSchemaUpdater.html#getOrderingTieBreaker()">getOrderingTieBreaker</a>, <a href="../schema/AbstractSchemaUpdater.html#getUpdates()">getUpdates</a>, <a href="../schema/AbstractSchemaUpdater.html#initializeAndUpdateDatabase(D)">initializeAndUpdateDatabase</a>, <a href="../schema/AbstractSchemaUpdater.html#isIgnoreUnrecognizedUpdates()">isIgnoreUnrecognizedUpdates</a>, <a href="../schema/AbstractSchemaUpdater.html#isValidUpdateName(java.lang.String)">isValidUpdateName</a>, <a href="../schema/AbstractSchemaUpdater.html#setIgnoreUnrecognizedUpdates(boolean)">setIgnoreUnrecognizedUpdates</a>, <a href="../schema/AbstractSchemaUpdater.html#setUpdates(java.util.Collection)">setUpdates</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="NAMESPACE_URI">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NAMESPACE_URI</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> NAMESPACE_URI</pre>
<div class="block">XML namespace URI used for nested update elements.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.dellroad.stuff.pobj.PersistentObjectSchemaUpdater.NAMESPACE_URI">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="XML_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XML_PREFIX</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> XML_PREFIX</pre>
<div class="block">Preferred XML namespace prefix for <a href="#NAMESPACE_URI"><code>NAMESPACE_URI</code></a> elements.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.dellroad.stuff.pobj.PersistentObjectSchemaUpdater.XML_PREFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="UPDATES_ELEMENT_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UPDATES_ELEMENT_NAME</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace" class="externalLink">QName</a> UPDATES_ELEMENT_NAME</pre>
<div class="block">XML element name for the updates list.</div>
</li>
</ul>
<a id="UPDATE_ELEMENT_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UPDATE_ELEMENT_NAME</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace" class="externalLink">QName</a> UPDATE_ELEMENT_NAME</pre>
<div class="block">XML element name for a single update.</div>
</li>
</ul>
<a id="XMLNS_ATTRIBUTE_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XMLNS_ATTRIBUTE_NAME</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace" class="externalLink">QName</a> XMLNS_ATTRIBUTE_NAME</pre>
<div class="block">XML namespace URI used for namespace declarations.</div>
</li>
</ul>
<a id="delegate">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>delegate</h4>
<pre>protected final&nbsp;<a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt; delegate</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.dellroad.stuff.pobj.PersistentObjectDelegate)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PersistentObjectSchemaUpdater</h4>
<pre>public&nbsp;PersistentObjectSchemaUpdater&#8203;(<a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&nbsp;delegate)</pre>
<div class="block">Constructor.

 <p>
 Callers provide a <a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj"><code>PersistentObjectDelegate</code></a> that will be used for all operations, with the exception
 that <a href="#serialize(T,javax.xml.transform.Result)">serialization</a> and <a href="#deserialize(javax.xml.transform.Source)">deserialization</a> will add/remove
 the upate list, and <a href="#deserialize(javax.xml.transform.Source)">deserialization</a> will apply any needed updates as necessary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>delegate</code> - delegate that will be wrapped by this instance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>delegate</code> is null</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setTransformerFactory(javax.xml.transform.TransformerFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransformerFactory</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTransformerFactory&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink">TransformerFactory</a>&nbsp;transformerFactory)</pre>
<div class="block">Configure the <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink"><code>TransformerFactory</code></a> to be used by this instance when reading the updates from the XML file.
 Must support reading from a StAX <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/Source.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink"><code>Source</code></a>.

 <p>
 The implementation in <a href="PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> returns null.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transformerFactory</code> - <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink"><code>TransformerFactory</code></a> to use or null for the platform default</dd>
</dl>
</li>
</ul>
<a id="copy(java.lang.Object)">
<!--   -->
</a><a id="copy(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copy</h4>
<pre class="methodSignature">public&nbsp;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;copy&#8203;(<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;original)</pre>
<div class="block">Make a deep copy of the given object.

 <p>
 The implementation in <a href="PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistentObjectDelegate.html#copy(T)">copy</a></code>&nbsp;in interface&nbsp;<code><a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>original</code> - original object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>deep copy of the object graph rooted at <code>original</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>original</code> is null</dd>
<dd><code><a href="PersistentObjectException.html" title="class in org.dellroad.stuff.pobj">PersistentObjectException</a></code> - if an error occurs</dd>
</dl>
</li>
</ul>
<a id="isSameGraph(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="isSameGraph(T,T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSameGraph</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isSameGraph&#8203;(<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;root1,
                           <a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;root2)</pre>
<div class="block">Compare two object graphs.

 <p>
 The implementation in <a href="PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistentObjectDelegate.html#isSameGraph(T,T)">isSameGraph</a></code>&nbsp;in interface&nbsp;<code><a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>root1</code> - root of first object graph</dd>
<dd><code>root2</code> - root of second object graph</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if <code>root1</code> and <code>root2</code> represent equal object graphs</dd>
</dl>
</li>
</ul>
<a id="validate(java.lang.Object)">
<!--   -->
</a><a id="validate(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;javax.validation.ConstraintViolation&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&gt;&nbsp;validate&#8203;(<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;obj)</pre>
<div class="block">Validate the given instance.

 <p>
 The implementation in <a href="PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistentObjectDelegate.html#validate(T)">validate</a></code>&nbsp;in interface&nbsp;<code><a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>obj</code> - root object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>set of zero or more constraint violations</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>obj</code> is null</dd>
</dl>
</li>
</ul>
<a id="handleWritebackException(org.dellroad.stuff.pobj.PersistentObject,java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleWritebackException</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleWritebackException&#8203;(<a href="PersistentObject.html" title="class in org.dellroad.stuff.pobj">PersistentObject</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;&nbsp;pobj,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;t)</pre>
<div class="block">Handle an exception thrown during a delayed write-back attempt.

 <p>
 The implementation in <a href="PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistentObjectDelegate.html#handleWritebackException(org.dellroad.stuff.pobj.PersistentObject,java.lang.Throwable)">handleWritebackException</a></code>&nbsp;in interface&nbsp;<code><a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pobj</code> - the instance that encountered the exception</dd>
<dd><code>t</code> - the exception thrown</dd>
</dl>
</li>
</ul>
<a id="getDefaultValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultValue</h4>
<pre class="methodSignature">public&nbsp;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;getDefaultValue()</pre>
<div class="block">Get the default value for the root object graph.

 <p>
 The implementation in <a href="PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistentObjectDelegate.html#getDefaultValue()">getDefaultValue</a></code>&nbsp;in interface&nbsp;<code><a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>root object initial value, or null if there is no default value</dd>
</dl>
</li>
</ul>
<a id="serialize(java.lang.Object,javax.xml.transform.Result)">
<!--   -->
</a><a id="serialize(T,javax.xml.transform.Result)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;serialize&#8203;(<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;obj,
                      <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink">Result</a>&nbsp;result)
               throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Serialize object to XML.

 <p>
 The implementation in <a href="PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor
 but also adds the update list as the first XML tag.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistentObjectDelegate.html#serialize(T,javax.xml.transform.Result)">serialize</a></code>&nbsp;in interface&nbsp;<code><a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>obj</code> - object to serialize; must not be modified</dd>
<dd><code>result</code> - XML destination</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PersistentObjectException.html" title="class in org.dellroad.stuff.pobj">PersistentObjectException</a></code> - if an error occurs</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a id="deserialize(javax.xml.transform.Source)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deserialize</h4>
<pre class="methodSignature">public&nbsp;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&nbsp;deserialize&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/Source.html?is-external=true" title="class or interface in javax.xml.transform" class="externalLink">Source</a>&nbsp;source)
              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Deserialize object from XML.

 <p>
 The implementation in <a href="PersistentObjectSchemaUpdater.html" title="class in org.dellroad.stuff.pobj"><code>PersistentObjectSchemaUpdater</code></a> delegates to the delegate provided in the constructor
 but also removes the update list as the first XML tag and applies any needed updates.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="PersistentObjectDelegate.html#deserialize(javax.xml.transform.Source)">deserialize</a></code>&nbsp;in interface&nbsp;<code><a href="PersistentObjectDelegate.html" title="interface in org.dellroad.stuff.pobj">PersistentObjectDelegate</a>&lt;<a href="PersistentObjectSchemaUpdater.html" title="type parameter in PersistentObjectSchemaUpdater">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - XML source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>deserialized object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PersistentObjectException.html" title="class in org.dellroad.stuff.pobj">PersistentObjectException</a></code> - if an error occurs</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a id="databaseNeedsInitialization(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>databaseNeedsInitialization</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;databaseNeedsInitialization&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html#databaseNeedsInitialization(T)">AbstractSchemaUpdater</a></code></span></div>
<div class="block">Determine if the database needs initialization.

 <p>
 If so, <a href="../schema/AbstractSchemaUpdater.html#initializeDatabase(T)"><code>AbstractSchemaUpdater.initializeDatabase(T)</code></a> will eventually be invoked.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../schema/AbstractSchemaUpdater.html#databaseNeedsInitialization(T)">databaseNeedsInitialization</a></code>&nbsp;in class&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - open transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the database needs initialization</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code> - if an error occurs while accessing the database</dd>
</dl>
</li>
</ul>
<a id="initializeDatabase(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeDatabase</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;initializeDatabase&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html#initializeDatabase(T)">AbstractSchemaUpdater</a></code></span></div>
<div class="block">Initialize an uninitialized database. This should create and initialize the database schema and content,
 including whatever portion of that is used to track schema updates.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../schema/AbstractSchemaUpdater.html#initializeDatabase(T)">initializeDatabase</a></code>&nbsp;in class&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - open transaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code> - if an error occurs while accessing the database</dd>
</dl>
</li>
</ul>
<a id="openTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openTransaction</h4>
<pre class="methodSignature">protected&nbsp;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;openTransaction&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                                             throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html#openTransaction(D)">AbstractSchemaUpdater</a></code></span></div>
<div class="block">Begin a transaction on the given database.
 The transaction will always eventually either be
 <a href="../schema/AbstractSchemaUpdater.html#commitTransaction(T)">committed</a> or <a href="../schema/AbstractSchemaUpdater.html#rollbackTransaction(T)">rolled back</a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../schema/AbstractSchemaUpdater.html#openTransaction(D)">openTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - database</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>transaction handle</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code> - if an error occurs while accessing the database</dd>
</dl>
</li>
</ul>
<a id="commitTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransaction</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;commitTransaction&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html#commitTransaction(T)">AbstractSchemaUpdater</a></code></span></div>
<div class="block">Commit a previously opened transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../schema/AbstractSchemaUpdater.html#commitTransaction(T)">commitTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - open transaction previously returned from <a href="../schema/AbstractSchemaUpdater.html#openTransaction(D)"><code>openTransaction()</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code> - if an error occurs while accessing the database</dd>
</dl>
</li>
</ul>
<a id="rollbackTransaction(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackTransaction</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;rollbackTransaction&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html#rollbackTransaction(T)">AbstractSchemaUpdater</a></code></span></div>
<div class="block">Roll back a previously opened transaction.
 This method will also be invoked if <a href="../schema/AbstractSchemaUpdater.html#commitTransaction(T)"><code>commitTransaction()</code></a> throws an exception.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../schema/AbstractSchemaUpdater.html#rollbackTransaction(T)">rollbackTransaction</a></code>&nbsp;in class&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - open transaction previously returned from <a href="../schema/AbstractSchemaUpdater.html#openTransaction(D)"><code>openTransaction()</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code> - if an error occurs while accessing the database</dd>
</dl>
</li>
</ul>
<a id="getAppliedUpdateNames(org.dellroad.stuff.pobj.PersistentFileTransaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAppliedUpdateNames</h4>
<pre class="methodSignature">protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util" class="externalLink">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;getAppliedUpdateNames&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction)
                                     throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html#getAppliedUpdateNames(T)">AbstractSchemaUpdater</a></code></span></div>
<div class="block">Determine which updates have already been applied to the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../schema/AbstractSchemaUpdater.html#getAppliedUpdateNames(T)">getAppliedUpdateNames</a></code>&nbsp;in class&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - open transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>set of already-applied updates</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code> - if an error occurs while accessing the database</dd>
</dl>
</li>
</ul>
<a id="recordUpdateApplied(org.dellroad.stuff.pobj.PersistentFileTransaction,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>recordUpdateApplied</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;recordUpdateApplied&#8203;(<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&nbsp;transaction,
                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name)
                            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html#recordUpdateApplied(T,java.lang.String)">AbstractSchemaUpdater</a></code></span></div>
<div class="block">Record an update as having been applied to the database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../schema/AbstractSchemaUpdater.html#recordUpdateApplied(T,java.lang.String)">recordUpdateApplied</a></code>&nbsp;in class&nbsp;<code><a href="../schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</a>&lt;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>,&#8203;<a href="PersistentFileTransaction.html" title="class in org.dellroad.stuff.pobj">PersistentFileTransaction</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transaction</code> - open transaction</dd>
<dd><code>name</code> - update name</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the update has already been recorded in the database</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang" class="externalLink">Exception</a></code> - if an error occurs while accessing the database</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PersistentObjectSchemaUpdater.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2022. All rights reserved.</small></p>
</footer>
</body>
</html>
